<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login y Historial</title>
<style>

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
}

.nav-icons {
    display: flex;
    justify-content: flex-end;
    padding: 10px;
    background-color: #333;
}

.profile-icon {
    cursor: pointer;
    color: white;
}

#loginForm, #registerForm, #calculator, #history {
    margin: 20px;
    padding: 20px;
    background-color: white;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

input, button {
    margin: 5px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

button {
    cursor: pointer;
    background-color: #333;
    color: white;
    border: none;
}

button:hover {
    background-color: #555;
}
</style>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <nav>
        <div class="nav-icons">
            <div class="profile-container" id="profileContainer">
                <div class="profile-icon" onclick="toggleProfileMenu()">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div>
                    <button onclick="showNotifications()">
                       <i class="fa-solid fa-bell"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <div id="loginForm">
        <h2>Iniciar Sesión</h2>
        <input type="text" id="username" placeholder="Usuario">
        <input type="password" id="password" placeholder="Contraseña">
        <button onclick="login()">Iniciar Sesión</button>
        <button onclick="showRegisterForm()">Crear Cuenta</button>
    </div>

    <div id="registerForm" style="display: none;">
        <h2>Crear Cuenta</h2>
        <input type="text" id="newUsername" placeholder="Nuevo Usuario">
        <input type="password" id="newPassword" placeholder="Nueva Contraseña">
        <button onclick="register()">Registrarse</button>
        <button onclick="showLoginForm()">Volver a Iniciar Sesión</button>
    </div>

    <div id="calculator">
        <h2>Calculadora</h2>
        <input type="number" id="num1" placeholder="Número 1">
        <input type="number" id="num2" placeholder="Número 2">
        <button onclick="add()">Sumar</button>
        <button onclick="subtract()">Restar</button>
        <button onclick="multiply()">Multiplicar</button>
        <button onclick="divide()">Dividir</button>
        <p id="result"></p>
    </div>

    <div id="history">
        <h2>Historial de Operaciones</h2>
        <ul id="historyList"></ul>
    </div>

    <script>
        let users = JSON.parse(localStorage.getItem('users')) || [];
let currentUser = null;

function toggleProfileMenu() {
    // Aquí puedes agregar la lógica para mostrar/ocultar el menú de perfil
    alert("Menú de perfil");
}

function showNotifications() {
    // Aquí puedes agregar la lógica para mostrar notificaciones
    alert("Notificaciones");
}

function showLoginForm() {
    document.getElementById('loginForm').style.display = 'block';
    document.getElementById('registerForm').style.display = 'none';
}

function showRegisterForm() {
    document.getElementById('loginForm').style.display = 'none';
    document.getElementById('registerForm').style.display = 'block';
}

function login() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    const user = users.find(u => u.username === username && u.password === password);

    if (user) {
        currentUser = user;
        alert("Inicio de sesión exitoso");
        // Aquí puedes redirigir al usuario a la calculadora o mostrar la calculadora
    } else {
        alert("Usuario o contraseña incorrectos");
    }
}

function register() {
    const newUsername = document.getElementById('newUsername').value;
    const newPassword = document.getElementById('newPassword').value;

    if (users.some(u => u.username === newUsername)) {
        alert("El usuario ya existe");
    } else {
        users.push({ username: newUsername, password: newPassword, history: [] });
        localStorage.setItem('users', JSON.stringify(users));
        alert("Cuenta creada exitosamente");
        showLoginForm();
    }
}

function add() {
    const num1 = parseFloat(document.getElementById('num1').value);
    const num2 = parseFloat(document.getElementById('num2').value);
    const result = num1 + num2;
    document.getElementById('result').innerText = `Resultado: ${result}`;
    saveHistory(`Suma: ${num1} + ${num2} = ${result}`);
}

function subtract() {
    const num1 = parseFloat(document.getElementById('num1').value);
    const num2 = parseFloat(document.getElementById('num2').value);
    const result = num1 - num2;
    document.getElementById('result').innerText = `Resultado: ${result}`;
    saveHistory(`Resta: ${num1} - ${num2} = ${result}`);
}

function multiply() {
    const num1 = parseFloat(document.getElementById('num1').value);
    const num2 = parseFloat(document.getElementById('num2').value);
    const result = num1 * num2;
    document.getElementById('result').innerText = `Resultado: ${result}`;
    saveHistory(`Multiplicación: ${num1} * ${num2} = ${result}`);
}

function divide() {
    const num1 = parseFloat(document.getElementById('num1').value);
    const num2 = parseFloat(document.getElementById('num2').value);
    if (num2 === 0) {
        alert("No se puede dividir por cero");
        return;
    }
    const result = num1 / num2;
    document.getElementById('result').innerText = `Resultado: ${result}`;
    saveHistory(`División: ${num1} / ${num2} = ${result}`);
}

function saveHistory(operation) {
    if (currentUser) {
        currentUser.history.push(operation);
        const userIndex = users.findIndex(u => u.username === currentUser.username);
        users[userIndex] = currentUser;
        localStorage.setItem('users', JSON.stringify(users));
        updateHistory();
    }
}

function updateHistory() {
    const historyList = document.getElementById('historyList');
    historyList.innerHTML = '';
    if (currentUser) {
        currentUser.history.forEach(op => {
            const li = document.createElement('li');
            li.innerText = op;
            historyList.appendChild(li);
        });
    }
}

// Inicialización
showLoginForm();
    </script>
</body>
</html>