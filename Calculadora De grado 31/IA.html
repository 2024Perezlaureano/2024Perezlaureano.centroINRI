<!DOCTYPE html>
<html>
<head>
    <title>Interfaz IA para Matemáticas</title>
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <style>
        body{
            font-family: sans-serif;
            margin: 20px;
            background-color: #2a5298;
            color: #2a5298;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
        }
        h1 {
            text-align: center;
            color: white;
        }
        #contenedor {
            display: flex;
            flex-direction: column;
            border: 1px solid #ccc;
            padding: 20px;
            border-radius: 5px;
            background-color: lightgray;
        }
        #entrada {
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            background-color: rgb(255, 255, 255);
        }
        #botones {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 10px;
        }
        button {
            background-color: #2a5298;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #solucion {
            width: 100%;
            min-height: 100px;
            padding: 10px;
            border: 1px solid #0e0c0c;
            border-radius: 5px;
            box-sizing: border-box;
            background-color: #ffffff;
        }
    </style>
</head>
<body>
    <h1>En que puedo ayudarte hoy</h1>
    <div id="contenedor">
        <textarea id="entrada" placeholder="Escribe tu problema aquí..."></textarea>
        <div id="botones">
            <button onclick="enviar()">Enviar</button>
        </div>
        <div id="solucion"></div>
    </div>

    <script>
        async function enviar() {
            const problema = document.getElementById("entrada").value;
            const solucionElement = document.getElementById("solucion");

            // Verifica si el campo de entrada está vacío
            if (!problema.trim()) {
                solucionElement.innerHTML = "Por favor, ingresa un problema.";
                return;
            }

            // Muestra un mensaje de carga
            solucionElement.innerHTML = "Procesando...";

            try {
                // Envía el problema al backend
                const respuesta = await fetch("http://localhost:3000/solve", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ problem: problema }),
                });

                const data = await respuesta.json();

                // Muestra la solución
                if (data.solution) {
                    solucionElement.innerHTML = "Solución: " + data.solution;
                } else {
                    solucionElement.innerHTML = "Error: No se pudo obtener una solución.";
                }
            } catch (error) {
                solucionElement.innerHTML = "Error: " + error.message;
            }
        }





        //IA segunda prueba
        
        
    </script>
</body>
</html>